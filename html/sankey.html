<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Globalization's Shadow: Human Trafficking</title>

    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="../css/project-specific.css" rel="stylesheet" type="text/css">
    <link href="../css/interactive_visualization.css" rel="stylesheet" type="text/css">

    <!-- Scripts -->
    <script src="../js/three.js" type="text/javascript"></script>
    <script src="../js/Detector.js" type="text/javascript"></script>
    <script src="../js/stats.min.js" type="text/javascript"></script>
    <script src="../js/tween.min.js" type="text/javascript"></script>
    <script src="../js/d3.js" type="text/javascript"></script>
    <script src="https://d3js.org/d3-queue.v3.min.js" type="text/javascript"></script>
    <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js" type="text/javascript"></script>
    <script src="https://d3js.org/d3.v5.min.js" type="text/javascript"></script>


    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet" type="text/css">

    <!-- Google Analytics Code -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-27897156-6', 'auto');
        ga('send', 'pageview');

    </script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<!-- ******* Navbar ******* -->
<!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header" font="Lora">
            <a class="navbar-brand" href="../index.html">Globalization's Shadow:<br> Human Trafficking</a>
        </div>
        <div class="navbar-collapse collapse" id="navbar">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="home.html">Home</a></li>
                <li class="active"><a href="sankey.html">Countries</a></li>
                <li><a href="real.html">People</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>
<body>

<div class="chart" id="chart"></div>
<div class="button sort" style="background-color: #000000; display: flex;" id="sortSankey">
    <p id="buttonText">Order by:</p>
</div>
<div class="button sort" id="sortAll">
    <p id="buttonText">Overall</p>
</div>
<div class="button sort" id="sortTop">
    <p id="buttonText">Internal Trafficking</p>
</div>
<div class="button sort" id="sortBottom">
    <p id="buttonText">External Trafficking</p>
</div>
<div class="button sort" id="sortTopGDP">
    <p id="buttonText">Highest GDP</p>
</div>
<div class="button sort" id="sortBottomGDP">
    <p id="buttonText">Lowest GDP</p>
</div>

<div id="messageTitle2">
    <p>The Sankey Diagrams are better depicted <a href="https://observablehq.com/@cindysi21/sankey-diagrams">here</a>
        due to complications embedding Observable charts.
    </p>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<script type="module">
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
    import define from "https://api.observablehq.com/@cindysi21/sankey-diagrams.js?v=3";
    const runtime = new Runtime();


    const main = runtime.module(define, name => {
        if (name === "chart") {
            return new Inspector(document.querySelector("#chart"));
        }
    })

    d3.select("#sortAll").on("click", function () {
        const runtime = new Runtime();
        const main = runtime.module(define, name => {
            if (name === "chart") {
                return new Inspector(document.querySelector("#chart"));
            }
        });
    })

    d3.select("#sortTop").on("click", function () {
        const runtime = new Runtime();
        const main = runtime.module(define, name => {
            if (name === "chartInternal") {
                return new Inspector(document.querySelector("#chart"));
            }
        });
    })

    d3.select("#sortBottom").on("click", function () {
        const runtime = new Runtime();
        const main = runtime.module(define, name => {
            if (name === "chartExternal") {
                return new Inspector(document.querySelector("#chart"));
            }
        });
    })

    d3.select("#sortTopGDP").on("click", function () {
        const runtime = new Runtime();
        const main = runtime.module(define, name => {
            if (name === "chartGdpTop") {
                return new Inspector(document.querySelector("#chart"));
            }
        });
    })

    d3.select("#sortBottomGDP").on("click", function () {
        const runtime = new Runtime();
        const main = runtime.module(define, name => {
            if (name === "chartGdpBot") {
                return new Inspector(document.querySelector("#chart"));
            }
        });
    })

</script>
</body>
</html>
